/**
 * HeyPeter Academy - Duration Selection Component
 * 
 * Allows students to choose between 30 and 60-minute session durations
 * with pricing information and recommendations.
 */

'use client';

import React from 'react';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import { Clock, Star, CheckCircle, ChevronLeft } from 'lucide-react';\nimport type { OneOnOneBookingDuration } from '@/types/scheduling';\n\ninterface DurationSelectorProps {\n  selectedDuration: OneOnOneBookingDuration;\n  onSelect: (duration: OneOnOneBookingDuration) => void;\n  onBack: () => void;\n}\n\ninterface DurationOption {\n  duration: OneOnOneBookingDuration;\n  title: string;\n  description: string;\n  basePrice: number;\n  features: string[];\n  recommended?: boolean;\n  popularChoice?: boolean;\n  bestFor: string[];\n}\n\nconst durationOptions: DurationOption[] = [\n  {\n    duration: 30,\n    title: '30 Minutes',\n    description: 'Perfect for focused practice and quick reviews',\n    basePrice: 45,\n    features: [\n      'Focused topic coverage',\n      'Quick feedback session',\n      'Homework review',\n      'Pronunciation practice',\n      'Grammar clarification'\n    ],\n    bestFor: [\n      'Beginner students',\n      'Quick clarifications',\n      'Regular practice sessions',\n      'Budget-conscious learners'\n    ]\n  },\n  {\n    duration: 60,\n    title: '60 Minutes',\n    description: 'Comprehensive sessions for in-depth learning',\n    basePrice: 80,\n    features: [\n      'Complete lesson coverage',\n      'Interactive exercises',\n      'Detailed feedback',\n      'Multiple skill practice',\n      'Progress assessment',\n      'Homework assignment'\n    ],\n    recommended: true,\n    popularChoice: true,\n    bestFor: [\n      'Intermediate & advanced students',\n      'Comprehensive learning',\n      'Exam preparation',\n      'Complex topics'\n    ]\n  }\n];\n\nexport function DurationSelector({ selectedDuration, onSelect, onBack }: DurationSelectorProps) {\n  /**\n   * Render duration option card\n   */\n  const renderDurationCard = (option: DurationOption) => {\n    const isSelected = selectedDuration === option.duration;\n    \n    return (\n      <Card \n        key={option.duration}\n        className={`cursor-pointer transition-all hover:shadow-lg relative ${\n          isSelected \n            ? 'ring-2 ring-primary shadow-lg' \n            : 'hover:ring-1 hover:ring-border'\n        }`}\n        onClick={() => onSelect(option.duration)}\n      >\n        {option.recommended && (\n          <div className=\"absolute -top-3 left-1/2 transform -translate-x-1/2\">\n            <Badge className=\"bg-primary text-primary-foreground\">\n              <Star className=\"w-3 h-3 mr-1\" />\n              Recommended\n            </Badge>\n          </div>\n        )}\n        \n        {option.popularChoice && (\n          <div className=\"absolute -top-3 right-4\">\n            <Badge variant=\"secondary\">\n              Most Popular\n            </Badge>\n          </div>\n        )}\n\n        <CardHeader className=\"pb-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className={`w-12 h-12 rounded-full flex items-center justify-center ${\n                isSelected ? 'bg-primary text-primary-foreground' : 'bg-muted'\n              }`}>\n                <Clock className=\"w-5 h-5\" />\n              </div>\n              \n              <div>\n                <CardTitle className=\"text-xl\">{option.title}</CardTitle>\n                <p className=\"text-sm text-muted-foreground mt-1\">\n                  {option.description}\n                </p>\n              </div>\n            </div>\n            \n            {isSelected && (\n              <CheckCircle className=\"w-6 h-6 text-primary\" />\n            )}\n          </div>\n        </CardHeader>\n\n        <CardContent className=\"space-y-4\">\n          {/* Pricing */}\n          <div className=\"bg-muted/50 rounded-lg p-4\">\n            <div className=\"flex items-baseline gap-1\">\n              <span className=\"text-2xl font-bold\">${option.basePrice}</span>\n              <span className=\"text-muted-foreground\">per session</span>\n            </div>\n            <p className=\"text-sm text-muted-foreground mt-1\">\n              Price may vary by teacher\n            </p>\n          </div>\n\n          {/* Features */}\n          <div>\n            <h4 className=\"font-semibold mb-2\">What's Included:</h4>\n            <ul className=\"space-y-1\">\n              {option.features.map((feature, index) => (\n                <li key={index} className=\"flex items-center gap-2 text-sm\">\n                  <CheckCircle className=\"w-4 h-4 text-green-500 flex-shrink-0\" />\n                  <span>{feature}</span>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {/* Best for */}\n          <div>\n            <h4 className=\"font-semibold mb-2\">Best For:</h4>\n            <div className=\"flex flex-wrap gap-2\">\n              {option.bestFor.map((item, index) => (\n                <Badge key={index} variant=\"outline\" className=\"text-xs\">\n                  {item}\n                </Badge>\n              ))}\n            </div>\n          </div>\n\n          {/* Selection button */}\n          <Button \n            className=\"w-full mt-4\" \n            variant={isSelected ? \"default\" : \"outline\"}\n            onClick={(e) => {\n              e.stopPropagation();\n              onSelect(option.duration);\n            }}\n          >\n            {isSelected ? 'Selected' : 'Select This Duration'}\n          </Button>\n        </CardContent>\n      </Card>\n    );\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h3 className=\"text-lg font-semibold mb-2\">Choose Session Duration</h3>\n        <p className=\"text-muted-foreground\">\n          Select the duration that best fits your learning goals and schedule\n        </p>\n      </div>\n\n      {/* Duration comparison */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        {durationOptions.map(renderDurationCard)}\n      </div>\n\n      {/* Additional information */}\n      <Card className=\"bg-blue-50 border-blue-200\">\n        <CardContent className=\"p-4\">\n          <div className=\"flex items-start gap-3\">\n            <div className=\"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0\">\n              <Clock className=\"w-4 h-4 text-blue-600\" />\n            </div>\n            <div>\n              <h4 className=\"font-semibold text-blue-900 mb-1\">Flexibility Note</h4>\n              <p className=\"text-sm text-blue-700\">\n                You can always change your preferred duration for future sessions. \n                Most teachers offer both options, and you can mix and match based on your needs.\n              </p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Recommendations based on goals */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-base\">Duration Recommendations</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm\">\n            <div className=\"space-y-2\">\n              <h5 className=\"font-semibold text-green-700\">Choose 30 minutes if you:</h5>\n              <ul className=\"space-y-1 text-muted-foreground\">\n                <li>• Are new to 1-on-1 sessions</li>\n                <li>• Have a tight schedule</li>\n                <li>• Want regular, frequent practice</li>\n                <li>• Need help with specific questions</li>\n              </ul>\n            </div>\n            \n            <div className=\"space-y-2\">\n              <h5 className=\"font-semibold text-blue-700\">Choose 60 minutes if you:</h5>\n              <ul className=\"space-y-1 text-muted-foreground\">\n                <li>• Want comprehensive lessons</li>\n                <li>• Are preparing for exams</li>\n                <li>• Prefer fewer, longer sessions</li>\n                <li>• Have complex learning goals</li>\n              </ul>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Navigation */}\n      <div className=\"flex justify-between\">\n        <Button variant=\"outline\" onClick={onBack}>\n          <ChevronLeft className=\"w-4 h-4 mr-2\" />\n          Back\n        </Button>\n        \n        <Button \n          onClick={() => onSelect(selectedDuration)}\n          disabled={!selectedDuration}\n        >\n          Continue with {selectedDuration} minutes\n        </Button>\n      </div>\n    </div>\n  );\n}"